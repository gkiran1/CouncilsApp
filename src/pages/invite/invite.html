<ion-header>
    <ion-navbar hideBackButton>

        <ion-row>
            <ion-col class="header-col">
                <button ion-button item-right clear class="button button-clik" (click)="close()">   
                <ion-icon name="cancel" class="councils-icon__back menu-icon" item-left color="secondary"></ion-icon>
                                </button>
            </ion-col>
            <ion-col width-80 class="header-col2">
                <ion-title text-center>
                    Invite Member
                </ion-title>
            </ion-col>
        </ion-row>
    </ion-navbar>
</ion-header>
<ion-content>
    <form (ngSubmit)="inviteMember()" #InviteMemberForm="ngForm">
        <ion-item-group class="ionlist">
            <!--<ion-item-divider class="empty-light"></ion-item-divider>-->
            <ion-item class="input-item" [class.invalid]="!isValidEmail || emailErr">
                <ion-label floating>Email</ion-label>
                <ion-input class="council-styles" type="email" name="email" validate-onblur [(ngModel)]="invite.email" (blur)="keypresssed($event)"
                    required></ion-input>
            </ion-item>
            <ion-label class="error-msg" *ngIf="emailErr">Email taken</ion-label>
            <ion-label class="error-msg" *ngIf="!isValidEmail">Invalid email</ion-label>

            <ion-item class="input-item">
                <ion-label floating>First Name</ion-label>
                <ion-input class="council-styles" type="text" id="firstname" name="firstname" [(ngModel)]="invite.firstname" required></ion-input>
            </ion-item>
            <ion-item class="input-item">
                <ion-label floating>Last Name</ion-label>
                <ion-input class="council-styles" type="text" id="lastname" name="lastname" [(ngModel)]="invite.lastname" required></ion-input>
            </ion-item>
            <!--<ion-item class="input-item">
                <ion-label floating>Calling</ion-label>
                <ion-input class="council-styles" type="text" spellautocomplete name="calling" [(ngModel)]="invite.calling" required></ion-input>
            </ion-item>-->

            <ion-item-divider class="list-title-divider">Which councils can they access</ion-item-divider>

            <!--<ion-item *ngFor="let c of council; let i = index" [ngClass]="council.length === 1 ? 'ion-idv-item' : (i === 0 ? 'ion-item-first' : (i === council.length - 1 ? 'ion-item-last' : 'ion-item-middle'))">
                <ion-label color="dark">{{c.council}}</ion-label>
                <ion-checkbox [(ngModel)]="c.selected" (ionChange)="itemChanged()" color="secondary" name="checkbox" item-right [name]="c.council"></ion-checkbox>
            </ion-item>-->

            <ion-item *ngIf="(areaCouncils.length)" [ngClass]="firstShown === 'Area' ? 'unittype' : 'unittype1'">Area</ion-item>
            <ion-item *ngFor="let c of areaCouncils; let i = index" [ngClass]="areaCouncils.length === 1 ? 'ion-idv-item' : (i === 0 ? 'ion-item-first' : (i === areaCouncils.length - 1 ? 'ion-item-last' : 'ion-item-middle'))">
                <ion-label color="dark">{{c.council}}</ion-label>
                <ion-checkbox [(ngModel)]="c.selected" (ionChange)="itemChanged()" color="secondary" name="checkbox" item-right [name]="c.council"></ion-checkbox>
            </ion-item>

            <ion-item *ngIf="(stakeCouncils.length)" [ngClass]="firstShown === 'Stake' ? 'unittype' : 'unittype1'">Stake</ion-item>
            <ion-item *ngFor="let c of stakeCouncils; let i = index" [ngClass]="stakeCouncils.length === 1 ? 'ion-idv-item' : (i === 0 ? 'ion-item-first' : (i === stakeCouncils.length - 1 ? 'ion-item-last' : 'ion-item-middle'))">
                <ion-label color="dark">{{c.council}}</ion-label>
                <ion-checkbox [(ngModel)]="c.selected" (ionChange)="itemChanged()" color="secondary" name="checkbox" item-right [name]="c.council"></ion-checkbox>
            </ion-item>

            <ion-item *ngIf="(wardCouncils.length)" [ngClass]="firstShown === 'Ward' ? 'unittype' : 'unittype1'">Ward</ion-item>
            <ion-item *ngFor="let c of wardCouncils; let i = index" [ngClass]="wardCouncils.length === 1 ? 'ion-idv-item' : (i === 0 ? 'ion-item-first' : (i === wardCouncils.length - 1 ? 'ion-item-last' : 'ion-item-middle'))">
                <ion-label color="dark">{{c.council}}</ion-label>
                <ion-checkbox [(ngModel)]="c.selected" (ionChange)="itemChanged()" color="secondary" name="checkbox" item-right [name]="c.council"></ion-checkbox>
            </ion-item>

            <ion-item *ngIf="(addedCouncils.length)" [ngClass]="firstShown === 'Added' ? 'unittype' : 'unittype1'">Added</ion-item>
            <ion-item *ngFor="let c of addedCouncils; let i = index" [ngClass]="addedCouncils.length === 1 ? 'ion-idv-item' : (i === 0 ? 'ion-item-first' : (i === addedCouncils.length - 1 ? 'ion-item-last' : 'ion-item-middle'))">
                <ion-label color="dark">{{c.council}}</ion-label>
                <ion-checkbox [(ngModel)]="c.selected" (ionChange)="itemChanged()" color="secondary" name="checkbox" item-right [name]="c.council"></ion-checkbox>
            </ion-item>

        </ion-item-group>
    </form>
</ion-content>
<ion-footer>
    <button ion-button type="submit" class="button button-clik" (click)="inviteMember()" name="Invitebtn" clear block color="secondary"
        text-capitalize [disabled]="!isValidEmail || !councilsLength || !InviteMemberForm.form.valid" text-capitalize>Invite</button>
</ion-footer>