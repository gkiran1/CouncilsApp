<ion-header>
    <ion-navbar hideBackButton>
        <ion-row>
            <ion-col class="header-col">
                <button ion-button item-right clear class="button button-clik" (click)="cancel()">
                <ion-icon class="councils-icon__close menu-icon" name="cancel" item-left color="secondary"></ion-icon>
                                </button>
            </ion-col>
            <ion-col width-80 class="header-col2">
                <ion-title text-center>New Private Discussion</ion-title>
            </ion-col>
        </ion-row>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-searchbar (ionInput)="searchFn($event)" class="font1" placeholder="Who do you want to chat with?"></ion-searchbar>
    <form [formGroup]="NewPrivateDiscussionForm" (ngSubmit)="NewPrivateDiscussionForm.value">
        <ion-item-group>
            <ion-list radio-group id="otherUser" name="otherUser" formControlName="otherUser">
                <ng-container *ngFor="let user of users | search:term:'username'">
                    <ion-item *ngIf="user.$key!==uid" class="flex-change ion-item-middle">
                        <ion-avatar item-left>
                            <img [src]="(user)?.avatar" class="avatarImage" *ngIf="(user)?.avatar && (user)?.avatar !== 'avatar'" />
                            <img src="assets/icon/noavatar.png" class="avatarImage" *ngIf="!(user)?.avatar || (user)?.avatar === 'avatar'" />
                        </ion-avatar>
                        <ion-label class="font5">{{user.firstname}} {{user.lastname}}</ion-label>
                        <ion-label class="font1">{{user.councilsString}}</ion-label>
                        <ion-radio [value]="user" color="secondary"></ion-radio>
                    </ion-item>
                </ng-container>
            </ion-list>
            <!--<ion-spinner *ngIf="isLoading" class="center"></ion-spinner>-->
        </ion-item-group>
    </form>
</ion-content>

<ion-footer>
    <button ion-button color="secondary" class="button button-clik" clear block [disabled]="!NewPrivateDiscussionForm.valid"
        (click)="create(NewPrivateDiscussionForm.value)">Create</button>
</ion-footer>